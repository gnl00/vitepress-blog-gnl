<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringMVC | Gnl</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/assets/style.192b8fa9.css" as="style">
    
    <script type="module" src="/assets/app.ba26e238.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.834b76fb.js">
    <link rel="modulepreload" href="/assets/chunks/theme.759f3966.js">
    <link rel="modulepreload" href="/assets/posts_be_springmvc_SpringMVC.md.129d7912.lean.js">
    <link rel="icon" href="./img/logo.jpeg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="./logo.jpeg" alt data-v-8426fc1a><!--]--><!--[-->Gnl<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/recently" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Recently</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="posts/al/index/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>算法</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>前端</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/fe/javascript/JavaScript" data-v-43f1e123><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/fe/vuejs/Vuejs" data-v-43f1e123><!--[-->Vue.js<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/fe/react/React" data-v-43f1e123><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/fe/typescript/TypeScript" data-v-43f1e123><!--[-->TypeScript<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>后端</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/be/java/index/Java" data-v-43f1e123><!--[-->Java<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/be/spring/Spring5" data-v-43f1e123><!--[-->Spring5<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link active" href="/posts/be/springmvc/SpringMVC" data-v-43f1e123><!--[-->Spring MVC<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/be/springboot/SpringBoot" data-v-43f1e123><!--[-->Spring Boot<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/be/springsecurity/SpringSecurity" data-v-43f1e123><!--[-->Spring Security<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/be/springcloud/SpringCloud" data-v-43f1e123><!--[-->Spring Cloud<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/be/mybatis/MyBatis" data-v-43f1e123><!--[-->MyBatis<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>数据库</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/db/mysql/MySQL" data-v-43f1e123><!--[-->MySQL<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/db/redis/Redis" data-v-43f1e123><!--[-->Redis<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>中间件</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/mw/rocketmq/RocketMQ" data-v-43f1e123><!--[-->RocketMQ<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/mw/elasticsearch/Elasticsearch" data-v-43f1e123><!--[-->Elasticsearch<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/mw/kafka/Kafka" data-v-43f1e123><!--[-->Kafka<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/posts/mw/nginx/Nginx" data-v-43f1e123><!--[-->Nginx<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>算法</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/al/index/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/al/%E4%BD%8D%E8%BF%90%E7%AE%97" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>位运算</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/al/%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>常见算法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>设计模式</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/dp/index/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/dp/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>设计模式</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>前端</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/fe/index/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/fe/javascript/JavaScript" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>JavaScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/fe/vuejs/Vuejs" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Vue.js</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/fe/react/React" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>React</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/fe/typescript/TypeScript" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>TypeScript</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>后端</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/index/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guide</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/index/Java" data-v-e31bd47b><!--[--><h3 class="text" data-v-e31bd47b>Java</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/java-basic/Java-%E5%9F%BA%E7%A1%80" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java 基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/java-collection/Java-%E9%9B%86%E5%90%88" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java 集合</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/java-thread/Java-%E5%A4%9A%E7%BA%BF%E7%A8%8B" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java 多线程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/java-threadpool/Java-%E7%BA%BF%E7%A8%8B%E6%B1%A0" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java 线程池</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/java-juc/Java-JUC" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java JUC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/io/Java-IO" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java IO</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/java-advance/Java-%E8%BF%9B%E9%98%B6" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Java 进阶</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/java/jvm/JVM" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>JVM</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/spring/Spring5" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Spring5</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/springmvc/SpringMVC" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Spring MVC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/springboot/SpringBoot" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Spring Boot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/springsecurity/SpringSecurity" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Spring Security</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/springcloud/SpringCloud" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Spring Cloud</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/be/mybatis/MyBatis" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>MyBatis</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>数据库</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/db/index/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/db/mysql/MySQL" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>MySQL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/db/redis/Redis" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Redis</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible collapsed" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>中间件</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/mw/index/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/mw/rocketmq/RocketMQ" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>RocketMQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/mw/elasticsearch/Elasticsearch" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Elasticsearch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/mw/kafka/Kafka" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Kafka</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/posts/mw/nginx/Nginx" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Nginx</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _posts_be_springmvc_SpringMVC" data-v-6b87e69f><div><h1 id="springmvc" tabindex="-1">SpringMVC <a class="header-anchor" href="#springmvc" aria-label="Permalink to &quot;SpringMVC&quot;">​</a></h1><h2 id="请求流程图" tabindex="-1">请求流程图 <a class="header-anchor" href="#请求流程图" aria-label="Permalink to &quot;请求流程图&quot;">​</a></h2><p><img src="/assets/image-20200509125045797.2728190b.png" alt="image-20200509125045797"></p><h2 id="代码执行流程图" tabindex="-1">代码执行流程图 <a class="header-anchor" href="#代码执行流程图" aria-label="Permalink to &quot;代码执行流程图&quot;">​</a></h2><p><img src="/assets/image-20200509124942393.b80cee10.png" alt="image-20200509124942393"></p><h2 id="请求细节" tabindex="-1">请求细节 <a class="header-anchor" href="#请求细节" aria-label="Permalink to &quot;请求细节&quot;">​</a></h2><h3 id="dodispatch" tabindex="-1">doDispatch <a class="header-anchor" href="#dodispatch" aria-label="Permalink to &quot;doDispatch&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">处理向处理程序的实际分派。 处理程序将通过依次应用servlet的HandlerMappings获得。 通过查询servlet已安装HandlerAdapters 来找到第一个支持处理程序类的HandlerAdapter。 所有HTTP方法均由该方法处理。由HandlerAdapters或处理程序自己决定可接受的方法。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">doDispatch</span><span style="color:#E1E4E8;">(HttpServletRequest request, HttpServletResponse response) throws Exception {</span></span>
<span class="line"><span style="color:#E1E4E8;">   HttpServletRequest processedRequest </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> request;</span></span>
<span class="line"><span style="color:#E1E4E8;">   HandlerExecutionChain mappedHandler </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> multipartRequestParsed </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   WebAsyncManager asyncManager </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> WebAsyncUtils.</span><span style="color:#B392F0;">getAsyncManager</span><span style="color:#E1E4E8;">(request);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      ModelAndView mv </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      Exception dispatchException </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 检查是否为文件上传请求</span></span>
<span class="line"><span style="color:#E1E4E8;">         processedRequest </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">checkMultipart</span><span style="color:#E1E4E8;">(request);</span></span>
<span class="line"><span style="color:#E1E4E8;">         multipartRequestParsed </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (processedRequest </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> request);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 确定处理当前请求的handler（Controller）</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 即：根据当前请求url找到能处理的类</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Determine handler for the current request.</span></span>
<span class="line"><span style="color:#E1E4E8;">         mappedHandler </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getHandler</span><span style="color:#E1E4E8;">(processedRequest);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 如果找不到能处理当前请求的类(Controller/Handler)则404或者抛异常</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (mappedHandler </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">noHandlerFound</span><span style="color:#E1E4E8;">(processedRequest, response);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 确定能执行当前请求的处理器适配器（RequestMappingHandlerAdapter）</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Determine handler adapter for the current request.</span></span>
<span class="line"><span style="color:#E1E4E8;">         HandlerAdapter ha </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getHandlerAdapter</span><span style="color:#E1E4E8;">(mappedHandler.</span><span style="color:#B392F0;">getHandler</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Process last-modified header, if supported by the handler.</span></span>
<span class="line"><span style="color:#E1E4E8;">         String method </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> request.</span><span style="color:#B392F0;">getMethod</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> isGet </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;GET&quot;</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(method);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (isGet </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;HEAD&quot;</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">equals</span><span style="color:#E1E4E8;">(method)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">long</span><span style="color:#E1E4E8;"> lastModified </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ha.</span><span style="color:#B392F0;">getLastModified</span><span style="color:#E1E4E8;">(request, mappedHandler.</span><span style="color:#B392F0;">getHandler</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ServletWebRequest</span><span style="color:#E1E4E8;">(request, response).</span><span style="color:#B392F0;">checkNotModified</span><span style="color:#E1E4E8;">(lastModified) </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> isGet) {</span></span>
<span class="line"><span style="color:#E1E4E8;">               </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">mappedHandler.</span><span style="color:#B392F0;">applyPreHandle</span><span style="color:#E1E4E8;">(processedRequest, response)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 处理器适配器来执行目标方法。处理器（Handler）/控制器（Controller）的方法被调用</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 将目标方法执行完后的返回值作为视图名，设置保存到ModelAndView中</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 无论目标方法内部如何工作，处理器适配器都会将执行完成之后的信息封装为ModelAndView</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Actually invoke the handler.</span></span>
<span class="line"><span style="color:#E1E4E8;">         mv </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ha.</span><span style="color:#B392F0;">handle</span><span style="color:#E1E4E8;">(processedRequest, response, mappedHandler.</span><span style="color:#B392F0;">getHandler</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 判断当前方法是否是异步方法，如果是直接返回</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (asyncManager.</span><span style="color:#B392F0;">isConcurrentHandlingStarted</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 如果没有视图名，则设置一个默认的视图名。即请求的路径名</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">applyDefaultViewName</span><span style="color:#E1E4E8;">(processedRequest, mv);</span></span>
<span class="line"><span style="color:#E1E4E8;">         mappedHandler.</span><span style="color:#B392F0;">applyPostHandle</span><span style="color:#E1E4E8;">(processedRequest, response, mv);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">ex</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         dispatchException </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ex;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Throwable </span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// As of 4.3, we&#39;re processing Errors thrown from handler methods as well,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// making them available for @ExceptionHandler methods and other scenarios.</span></span>
<span class="line"><span style="color:#E1E4E8;">         dispatchException </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NestedServletException</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Handler dispatch failed&quot;</span><span style="color:#E1E4E8;">, err);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 转发来到目标页面</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 根据方法最终执行完成之后的ModelAndView转发到相应的页面，并且将ModelAndView中的数据封装到请求域中</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">processDispatchResult</span><span style="color:#E1E4E8;">(processedRequest, response, mappedHandler, mv, dispatchException);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">ex</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">triggerAfterCompletion</span><span style="color:#E1E4E8;">(processedRequest, response, mappedHandler, ex);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Throwable </span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">triggerAfterCompletion</span><span style="color:#E1E4E8;">(processedRequest, response, mappedHandler,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NestedServletException</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Handler processing failed&quot;</span><span style="color:#E1E4E8;">, err));</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (asyncManager.</span><span style="color:#B392F0;">isConcurrentHandlingStarted</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Instead of postHandle and afterCompletion</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (mappedHandler </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            mappedHandler.</span><span style="color:#B392F0;">applyAfterConcurrentHandlingStarted</span><span style="color:#E1E4E8;">(processedRequest, response);</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Clean up any resources used by a multipart request.</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (multipartRequestParsed) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">cleanupMultipart</span><span style="color:#E1E4E8;">(processedRequest);</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">处理向处理程序的实际分派。 处理程序将通过依次应用servlet的HandlerMappings获得。 通过查询servlet已安装HandlerAdapters 来找到第一个支持处理程序类的HandlerAdapter。 所有HTTP方法均由该方法处理。由HandlerAdapters或处理程序自己决定可接受的方法。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">doDispatch</span><span style="color:#24292E;">(HttpServletRequest request, HttpServletResponse response) throws Exception {</span></span>
<span class="line"><span style="color:#24292E;">   HttpServletRequest processedRequest </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> request;</span></span>
<span class="line"><span style="color:#24292E;">   HandlerExecutionChain mappedHandler </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> multipartRequestParsed </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   WebAsyncManager asyncManager </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> WebAsyncUtils.</span><span style="color:#6F42C1;">getAsyncManager</span><span style="color:#24292E;">(request);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      ModelAndView mv </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      Exception dispatchException </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 检查是否为文件上传请求</span></span>
<span class="line"><span style="color:#24292E;">         processedRequest </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">checkMultipart</span><span style="color:#24292E;">(request);</span></span>
<span class="line"><span style="color:#24292E;">         multipartRequestParsed </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (processedRequest </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> request);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 确定处理当前请求的handler（Controller）</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 即：根据当前请求url找到能处理的类</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Determine handler for the current request.</span></span>
<span class="line"><span style="color:#24292E;">         mappedHandler </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getHandler</span><span style="color:#24292E;">(processedRequest);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 如果找不到能处理当前请求的类(Controller/Handler)则404或者抛异常</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (mappedHandler </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">noHandlerFound</span><span style="color:#24292E;">(processedRequest, response);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 确定能执行当前请求的处理器适配器（RequestMappingHandlerAdapter）</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Determine handler adapter for the current request.</span></span>
<span class="line"><span style="color:#24292E;">         HandlerAdapter ha </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getHandlerAdapter</span><span style="color:#24292E;">(mappedHandler.</span><span style="color:#6F42C1;">getHandler</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Process last-modified header, if supported by the handler.</span></span>
<span class="line"><span style="color:#24292E;">         String method </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> request.</span><span style="color:#6F42C1;">getMethod</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> isGet </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;GET&quot;</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(method);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (isGet </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;HEAD&quot;</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">equals</span><span style="color:#24292E;">(method)) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">long</span><span style="color:#24292E;"> lastModified </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ha.</span><span style="color:#6F42C1;">getLastModified</span><span style="color:#24292E;">(request, mappedHandler.</span><span style="color:#6F42C1;">getHandler</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ServletWebRequest</span><span style="color:#24292E;">(request, response).</span><span style="color:#6F42C1;">checkNotModified</span><span style="color:#24292E;">(lastModified) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> isGet) {</span></span>
<span class="line"><span style="color:#24292E;">               </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">mappedHandler.</span><span style="color:#6F42C1;">applyPreHandle</span><span style="color:#24292E;">(processedRequest, response)) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 处理器适配器来执行目标方法。处理器（Handler）/控制器（Controller）的方法被调用</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 将目标方法执行完后的返回值作为视图名，设置保存到ModelAndView中</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 无论目标方法内部如何工作，处理器适配器都会将执行完成之后的信息封装为ModelAndView</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Actually invoke the handler.</span></span>
<span class="line"><span style="color:#24292E;">         mv </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ha.</span><span style="color:#6F42C1;">handle</span><span style="color:#24292E;">(processedRequest, response, mappedHandler.</span><span style="color:#6F42C1;">getHandler</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 判断当前方法是否是异步方法，如果是直接返回</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (asyncManager.</span><span style="color:#6F42C1;">isConcurrentHandlingStarted</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 如果没有视图名，则设置一个默认的视图名。即请求的路径名</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">applyDefaultViewName</span><span style="color:#24292E;">(processedRequest, mv);</span></span>
<span class="line"><span style="color:#24292E;">         mappedHandler.</span><span style="color:#6F42C1;">applyPostHandle</span><span style="color:#24292E;">(processedRequest, response, mv);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">ex</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">         dispatchException </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ex;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Throwable </span><span style="color:#E36209;">err</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// As of 4.3, we&#39;re processing Errors thrown from handler methods as well,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// making them available for @ExceptionHandler methods and other scenarios.</span></span>
<span class="line"><span style="color:#24292E;">         dispatchException </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NestedServletException</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Handler dispatch failed&quot;</span><span style="color:#24292E;">, err);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 转发来到目标页面</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 根据方法最终执行完成之后的ModelAndView转发到相应的页面，并且将ModelAndView中的数据封装到请求域中</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">processDispatchResult</span><span style="color:#24292E;">(processedRequest, response, mappedHandler, mv, dispatchException);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">ex</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">triggerAfterCompletion</span><span style="color:#24292E;">(processedRequest, response, mappedHandler, ex);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Throwable </span><span style="color:#E36209;">err</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">triggerAfterCompletion</span><span style="color:#24292E;">(processedRequest, response, mappedHandler,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NestedServletException</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Handler processing failed&quot;</span><span style="color:#24292E;">, err));</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">finally</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (asyncManager.</span><span style="color:#6F42C1;">isConcurrentHandlingStarted</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Instead of postHandle and afterCompletion</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (mappedHandler </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            mappedHandler.</span><span style="color:#6F42C1;">applyAfterConcurrentHandlingStarted</span><span style="color:#24292E;">(processedRequest, response);</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Clean up any resources used by a multipart request.</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (multipartRequestParsed) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">cleanupMultipart</span><span style="color:#24292E;">(processedRequest);</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br></div></div><p><strong>总结</strong></p><ol><li>发送请求，DispatcherServlet收到请求</li><li>调用doDispatch()处理请求 <ol><li><p><code>getHandler(processedRequest);</code>，返回一条执行链（HandlerExecutionChain）。根据当前请求地址找到能处理此请求的handler（对应的Controller类）。</p><p><strong>根据当前请求，在HandlerMapping中找到这个请求的映射信息，获取目标处理器类</strong></p></li><li><p><code>getHandlerAdapter(mappedHandler.getHandler());</code>，返回（RequestMappingHandlerAdapter）。</p><p><strong>根据获取到的目标处理器类，找到当前能执行当前处理器类的的处理器适配器HandlerAdapter</strong></p></li><li><p><code>mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</code>调用处理器适配器的handler()方法利用反射执行目标方法</p></li><li><p>目标方法执行完成之后会返回一个ModelAndView对象</p></li><li><p>根据ModelAndView的信息转发到相应的页面，并将ModelAndView的信息封装到请求域中</p></li></ol></li></ol><h3 id="gethandler" tabindex="-1">getHandler <a class="header-anchor" href="#gethandler" aria-label="Permalink to &quot;getHandler&quot;">​</a></h3><p>怎么根据当前请求找到相应的类来处理？</p><p>getHandler()返回相应目标处理器的执行链</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> HandlerExecutionChain </span><span style="color:#B392F0;">getHandler</span><span style="color:#E1E4E8;">(HttpServletRequest request) throws Exception {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// HandlerMapping处理器映射器，保存了每个处理器（Handler）能处理哪些映射信息</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (HandlerMapping mapping </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         HandlerExecutionChain handler </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> mapping.</span><span style="color:#B392F0;">getHandler</span><span style="color:#E1E4E8;">(request);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (handler </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> handler;</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> HandlerExecutionChain </span><span style="color:#6F42C1;">getHandler</span><span style="color:#24292E;">(HttpServletRequest request) throws Exception {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// HandlerMapping处理器映射器，保存了每个处理器（Handler）能处理哪些映射信息</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (HandlerMapping mapping </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings) {</span></span>
<span class="line"><span style="color:#24292E;">         HandlerExecutionChain handler </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> mapping.</span><span style="color:#6F42C1;">getHandler</span><span style="color:#24292E;">(request);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (handler </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> handler;</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="gethandleradapter" tabindex="-1">getHandlerAdapter <a class="header-anchor" href="#gethandleradapter" aria-label="Permalink to &quot;getHandlerAdapter&quot;">​</a></h3><p>如何找到目标处理器类的适配器？</p><p>需要用适配器来执行目标方法</p><p><img src="/assets/image-20200510091142500.14e197a4.png" alt="image-20200510091142500"></p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> HandlerAdapter </span><span style="color:#B392F0;">getHandlerAdapter</span><span style="color:#E1E4E8;">(Object handler) throws ServletException {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerAdapters </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (HandlerAdapter adapter </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerAdapters) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (adapter.</span><span style="color:#B392F0;">supports</span><span style="color:#E1E4E8;">(handler)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> adapter;</span></span>
<span class="line"><span style="color:#E1E4E8;">         }</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ServletException</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;No adapter for handler [&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> handler </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#9ECBFF;">&quot;]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> HandlerAdapter </span><span style="color:#6F42C1;">getHandlerAdapter</span><span style="color:#24292E;">(Object handler) throws ServletException {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerAdapters </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (HandlerAdapter adapter </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerAdapters) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (adapter.</span><span style="color:#6F42C1;">supports</span><span style="color:#24292E;">(handler)) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> adapter;</span></span>
<span class="line"><span style="color:#24292E;">         }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ServletException</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;No adapter for handler [&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> handler </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#032F62;">&quot;]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="九大组件初始化" tabindex="-1">九大组件初始化 <a class="header-anchor" href="#九大组件初始化" aria-label="Permalink to &quot;九大组件初始化&quot;">​</a></h3><blockquote><p><strong>何为九大组件？</strong></p><p>SpringMVC 工作的时候的关键位置都是由这些组件完成的。</p><p>共同点：九大组件全部都是接口；接口就是规范，可自定义实现类，提供了强大的扩展性。</p></blockquote><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/** MultipartResolver used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	文件上传解析器。与文件上传有关</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> MultipartResolver multipartResolver;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** LocaleResolver used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	区域信息解析器。与国际化有关</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> LocaleResolver localeResolver;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** ThemeResolver used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	主题解析器。实现主题效果更换</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> ThemeResolver themeResolver;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of HandlerMappings used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	处理器映射器。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">HandlerMapping</span><span style="color:#E1E4E8;">&gt; handlerMappings;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of HandlerAdapters used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	处理器适配器。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">HandlerAdapter</span><span style="color:#E1E4E8;">&gt; handlerAdapters;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of HandlerExceptionResolvers used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	处理器异常解析器。与SpringMVC的异常解析功能有关</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">HandlerExceptionResolver</span><span style="color:#E1E4E8;">&gt; handlerExceptionResolvers;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** RequestToViewNameTranslator used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	请求到视图名转换器。若没有跳转到的试图，则默认将请求地址转换为视图名</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> RequestToViewNameTranslator viewNameTranslator;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** FlashMapManager used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	FlashMap管理器。SpringMVC中允许携带数据重定向功能。</span></span>
<span class="line"><span style="color:#6A737D;">	数据取出即销毁。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> FlashMapManager flashMapManager;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of ViewResolvers used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	视图解析器。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> List&lt;</span><span style="color:#F97583;">ViewResolver</span><span style="color:#E1E4E8;">&gt; viewResolvers;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/** MultipartResolver used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	文件上传解析器。与文件上传有关</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> MultipartResolver multipartResolver;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** LocaleResolver used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	区域信息解析器。与国际化有关</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> LocaleResolver localeResolver;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** ThemeResolver used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	主题解析器。实现主题效果更换</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> ThemeResolver themeResolver;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of HandlerMappings used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	处理器映射器。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">HandlerMapping</span><span style="color:#24292E;">&gt; handlerMappings;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of HandlerAdapters used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	处理器适配器。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">HandlerAdapter</span><span style="color:#24292E;">&gt; handlerAdapters;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of HandlerExceptionResolvers used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	处理器异常解析器。与SpringMVC的异常解析功能有关</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">HandlerExceptionResolver</span><span style="color:#24292E;">&gt; handlerExceptionResolvers;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** RequestToViewNameTranslator used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	请求到视图名转换器。若没有跳转到的试图，则默认将请求地址转换为视图名</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> RequestToViewNameTranslator viewNameTranslator;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** FlashMapManager used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	FlashMap管理器。SpringMVC中允许携带数据重定向功能。</span></span>
<span class="line"><span style="color:#6A737D;">	数据取出即销毁。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> FlashMapManager flashMapManager;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/** List of ViewResolvers used by this servlet.</span></span>
<span class="line"><span style="color:#6A737D;">	视图解析器。</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> List&lt;</span><span style="color:#D73A49;">ViewResolver</span><span style="color:#24292E;">&gt; viewResolvers;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p><strong>初始化细节</strong></p><p>有些组件在容器中是使用类型查找的，有些组件是根据ID查找的。</p><p>如果在容器中没有找到需要的组件，则使用默认配置的组件。</p><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * org.springframework.web.servlet.DispatcherServlet#initStrategies</span></span>
<span class="line"><span style="color:#6A737D;"> * 初始化此servlet使用的策略对象。可以在子类中重写，以初始化其他策略对象。</span></span>
<span class="line"><span style="color:#6A737D;"> * Initialize the strategy objects that this servlet uses.</span></span>
<span class="line"><span style="color:#6A737D;"> * &lt;p&gt;May be overridden in subclasses in order to initialize further strategy objects.</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initStrategies</span><span style="color:#E1E4E8;">(ApplicationContext context) {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initMultipartResolver</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initLocaleResolver</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initThemeResolver</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initHandlerMappings</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initHandlerAdapters</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initHandlerExceptionResolvers</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initRequestToViewNameTranslator</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initViewResolvers</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">initFlashMapManager</span><span style="color:#E1E4E8;">(context);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * org.springframework.web.servlet.DispatcherServlet#initStrategies</span></span>
<span class="line"><span style="color:#6A737D;"> * 初始化此servlet使用的策略对象。可以在子类中重写，以初始化其他策略对象。</span></span>
<span class="line"><span style="color:#6A737D;"> * Initialize the strategy objects that this servlet uses.</span></span>
<span class="line"><span style="color:#6A737D;"> * &lt;p&gt;May be overridden in subclasses in order to initialize further strategy objects.</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">initStrategies</span><span style="color:#24292E;">(ApplicationContext context) {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initMultipartResolver</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initLocaleResolver</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initThemeResolver</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initHandlerMappings</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initHandlerAdapters</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initHandlerExceptionResolvers</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initRequestToViewNameTranslator</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initViewResolvers</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">initFlashMapManager</span><span style="color:#24292E;">(context);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 初始化HandlerMappings</span></span>
<span class="line"><span style="color:#F97583;">private</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initHandlerMappings</span><span style="color:#E1E4E8;">(ApplicationContext context) {</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// this.detectAllHandlerMappings默认为true</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.detectAllHandlerMappings) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 在ApplicationContext中查找所有HandlerMappings，包括父类上下文</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// Find all HandlerMappings in the ApplicationContext, including ancestor contexts.</span></span>
<span class="line"><span style="color:#E1E4E8;">      Map&lt;</span><span style="color:#F97583;">String</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">HandlerMapping</span><span style="color:#E1E4E8;">&gt; matchingBeans </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">            BeanFactoryUtils.</span><span style="color:#B392F0;">beansOfTypeIncludingAncestors</span><span style="color:#E1E4E8;">(context, HandlerMapping.class, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">matchingBeans.</span><span style="color:#B392F0;">isEmpty</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> ArrayList&lt;&gt;(matchingBeans.</span><span style="color:#B392F0;">values</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// We keep HandlerMappings in sorted order.</span></span>
<span class="line"><span style="color:#E1E4E8;">         AnnotationAwareOrderComparator.</span><span style="color:#B392F0;">sort</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">         HandlerMapping hm </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.</span><span style="color:#B392F0;">getBean</span><span style="color:#E1E4E8;">(HANDLER_MAPPING_BEAN_NAME, HandlerMapping.class);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Collections.</span><span style="color:#B392F0;">singletonList</span><span style="color:#E1E4E8;">(hm);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (NoSuchBeanDefinitionException </span><span style="color:#FFAB70;">ex</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// Ignore, we&#39;ll add a default HandlerMapping later.</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// Ensure we have at least one HandlerMapping, by registering</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// a default HandlerMapping if no other mappings are found.</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handlerMappings </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getDefaultStrategies</span><span style="color:#E1E4E8;">(context, HandlerMapping.class);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (logger.</span><span style="color:#B392F0;">isTraceEnabled</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         logger.</span><span style="color:#B392F0;">trace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;No HandlerMappings declared for servlet &#39;&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getServletName</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">               </span><span style="color:#9ECBFF;">&quot;&#39;: using default strategies from DispatcherServlet.properties&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 初始化HandlerMappings</span></span>
<span class="line"><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">initHandlerMappings</span><span style="color:#24292E;">(ApplicationContext context) {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// this.detectAllHandlerMappings默认为true</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.detectAllHandlerMappings) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 在ApplicationContext中查找所有HandlerMappings，包括父类上下文</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// Find all HandlerMappings in the ApplicationContext, including ancestor contexts.</span></span>
<span class="line"><span style="color:#24292E;">      Map&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">HandlerMapping</span><span style="color:#24292E;">&gt; matchingBeans </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">            BeanFactoryUtils.</span><span style="color:#6F42C1;">beansOfTypeIncludingAncestors</span><span style="color:#24292E;">(context, HandlerMapping.class, </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">matchingBeans.</span><span style="color:#6F42C1;">isEmpty</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;(matchingBeans.</span><span style="color:#6F42C1;">values</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// We keep HandlerMappings in sorted order.</span></span>
<span class="line"><span style="color:#24292E;">         AnnotationAwareOrderComparator.</span><span style="color:#6F42C1;">sort</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">         HandlerMapping hm </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.</span><span style="color:#6F42C1;">getBean</span><span style="color:#24292E;">(HANDLER_MAPPING_BEAN_NAME, HandlerMapping.class);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Collections.</span><span style="color:#6F42C1;">singletonList</span><span style="color:#24292E;">(hm);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (NoSuchBeanDefinitionException </span><span style="color:#E36209;">ex</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// Ignore, we&#39;ll add a default HandlerMapping later.</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// Ensure we have at least one HandlerMapping, by registering</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// a default HandlerMapping if no other mappings are found.</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handlerMappings </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getDefaultStrategies</span><span style="color:#24292E;">(context, HandlerMapping.class);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (logger.</span><span style="color:#6F42C1;">isTraceEnabled</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         logger.</span><span style="color:#6F42C1;">trace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;No HandlerMappings declared for servlet &#39;&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getServletName</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">               </span><span style="color:#032F62;">&quot;&#39;: using default strategies from DispatcherServlet.properties&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="目标方法执行" tabindex="-1">目标方法执行 <a class="header-anchor" href="#目标方法执行" aria-label="Permalink to &quot;目标方法执行&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#invokeHandlerMethod</span></span>
<span class="line"><span style="color:#E1E4E8;">@</span><span style="color:#F97583;">Nullable</span></span>
<span class="line"><span style="color:#F97583;">protected</span><span style="color:#E1E4E8;"> ModelAndView </span><span style="color:#B392F0;">invokeHandlerMethod</span><span style="color:#E1E4E8;">(HttpServletRequest request,</span></span>
<span class="line"><span style="color:#E1E4E8;">      HttpServletResponse response, HandlerMethod handlerMethod) throws Exception {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// 将原生的request, response包装成webRequest</span></span>
<span class="line"><span style="color:#E1E4E8;">   ServletWebRequest webRequest </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ServletWebRequest</span><span style="color:#E1E4E8;">(request, response);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 获取参数绑定工厂</span></span>
<span class="line"><span style="color:#E1E4E8;">      WebDataBinderFactory binderFactory </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getDataBinderFactory</span><span style="color:#E1E4E8;">(handlerMethod);</span></span>
<span class="line"><span style="color:#E1E4E8;">      ModelFactory modelFactory </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getModelFactory</span><span style="color:#E1E4E8;">(handlerMethod, binderFactory);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      ServletInvocableHandlerMethod invocableMethod </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createInvocableHandlerMethod</span><span style="color:#E1E4E8;">(handlerMethod);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.argumentResolvers </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 设置处理方法的参数解析器</span></span>
<span class="line"><span style="color:#E1E4E8;">         invocableMethod.</span><span style="color:#B392F0;">setHandlerMethodArgumentResolvers</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.argumentResolvers);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.returnValueHandlers </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#6A737D;">// 设置处理方法的返回值处理器</span></span>
<span class="line"><span style="color:#E1E4E8;">         invocableMethod.</span><span style="color:#B392F0;">setHandlerMethodReturnValueHandlers</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.returnValueHandlers);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 设置参数绑定工厂</span></span>
<span class="line"><span style="color:#E1E4E8;">      invocableMethod.</span><span style="color:#B392F0;">setDataBinderFactory</span><span style="color:#E1E4E8;">(binderFactory);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 设置参数名的发现者</span></span>
<span class="line"><span style="color:#E1E4E8;">      invocableMethod.</span><span style="color:#B392F0;">setParameterNameDiscoverer</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.parameterNameDiscoverer);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      ModelAndViewContainer mavContainer </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ModelAndViewContainer</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      mavContainer.</span><span style="color:#B392F0;">addAllAttributes</span><span style="color:#E1E4E8;">(RequestContextUtils.</span><span style="color:#B392F0;">getInputFlashMap</span><span style="color:#E1E4E8;">(request));</span></span>
<span class="line"><span style="color:#E1E4E8;">      modelFactory.</span><span style="color:#B392F0;">initModel</span><span style="color:#E1E4E8;">(webRequest, mavContainer, invocableMethod);</span></span>
<span class="line"><span style="color:#E1E4E8;">      mavContainer.</span><span style="color:#B392F0;">setIgnoreDefaultModelOnRedirect</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ignoreDefaultModelOnRedirect);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      AsyncWebRequest asyncWebRequest </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> WebAsyncUtils.</span><span style="color:#B392F0;">createAsyncWebRequest</span><span style="color:#E1E4E8;">(request, response);</span></span>
<span class="line"><span style="color:#E1E4E8;">      asyncWebRequest.</span><span style="color:#B392F0;">setTimeout</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.asyncRequestTimeout);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      WebAsyncManager asyncManager </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> WebAsyncUtils.</span><span style="color:#B392F0;">getAsyncManager</span><span style="color:#E1E4E8;">(request);</span></span>
<span class="line"><span style="color:#E1E4E8;">      asyncManager.</span><span style="color:#B392F0;">setTaskExecutor</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.taskExecutor);</span></span>
<span class="line"><span style="color:#E1E4E8;">      asyncManager.</span><span style="color:#B392F0;">setAsyncWebRequest</span><span style="color:#E1E4E8;">(asyncWebRequest);</span></span>
<span class="line"><span style="color:#E1E4E8;">      asyncManager.</span><span style="color:#B392F0;">registerCallableInterceptors</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.callableInterceptors);</span></span>
<span class="line"><span style="color:#E1E4E8;">      asyncManager.</span><span style="color:#B392F0;">registerDeferredResultInterceptors</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.deferredResultInterceptors);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (asyncManager.</span><span style="color:#B392F0;">hasConcurrentResult</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         Object result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> asyncManager.</span><span style="color:#B392F0;">getConcurrentResult</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">         mavContainer </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (ModelAndViewContainer) asyncManager.</span><span style="color:#B392F0;">getConcurrentResultContext</span><span style="color:#E1E4E8;">()[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">         asyncManager.</span><span style="color:#B392F0;">clearConcurrentResult</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">         LogFormatUtils.</span><span style="color:#B392F0;">traceDebug</span><span style="color:#E1E4E8;">(logger, traceOn </span><span style="color:#F97583;">-&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            String formatted </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LogFormatUtils.</span><span style="color:#B392F0;">formatValue</span><span style="color:#E1E4E8;">(result, </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">traceOn);</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Resume with async result [&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> formatted </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;]&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">         });</span></span>
<span class="line"><span style="color:#E1E4E8;">         invocableMethod </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> invocableMethod.</span><span style="color:#B392F0;">wrapConcurrentResult</span><span style="color:#E1E4E8;">(result);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 执行目标方法</span></span>
<span class="line"><span style="color:#E1E4E8;">      invocableMethod.</span><span style="color:#B392F0;">invokeAndHandle</span><span style="color:#E1E4E8;">(webRequest, mavContainer);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (asyncManager.</span><span style="color:#B392F0;">isConcurrentHandlingStarted</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getModelAndView</span><span style="color:#E1E4E8;">(mavContainer, modelFactory, webRequest);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">finally</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      webRequest.</span><span style="color:#B392F0;">requestCompleted</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#invokeHandlerMethod</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Nullable</span></span>
<span class="line"><span style="color:#D73A49;">protected</span><span style="color:#24292E;"> ModelAndView </span><span style="color:#6F42C1;">invokeHandlerMethod</span><span style="color:#24292E;">(HttpServletRequest request,</span></span>
<span class="line"><span style="color:#24292E;">      HttpServletResponse response, HandlerMethod handlerMethod) throws Exception {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// 将原生的request, response包装成webRequest</span></span>
<span class="line"><span style="color:#24292E;">   ServletWebRequest webRequest </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ServletWebRequest</span><span style="color:#24292E;">(request, response);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 获取参数绑定工厂</span></span>
<span class="line"><span style="color:#24292E;">      WebDataBinderFactory binderFactory </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getDataBinderFactory</span><span style="color:#24292E;">(handlerMethod);</span></span>
<span class="line"><span style="color:#24292E;">      ModelFactory modelFactory </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getModelFactory</span><span style="color:#24292E;">(handlerMethod, binderFactory);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      ServletInvocableHandlerMethod invocableMethod </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createInvocableHandlerMethod</span><span style="color:#24292E;">(handlerMethod);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.argumentResolvers </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 设置处理方法的参数解析器</span></span>
<span class="line"><span style="color:#24292E;">         invocableMethod.</span><span style="color:#6F42C1;">setHandlerMethodArgumentResolvers</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.argumentResolvers);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.returnValueHandlers </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">// 设置处理方法的返回值处理器</span></span>
<span class="line"><span style="color:#24292E;">         invocableMethod.</span><span style="color:#6F42C1;">setHandlerMethodReturnValueHandlers</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.returnValueHandlers);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 设置参数绑定工厂</span></span>
<span class="line"><span style="color:#24292E;">      invocableMethod.</span><span style="color:#6F42C1;">setDataBinderFactory</span><span style="color:#24292E;">(binderFactory);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 设置参数名的发现者</span></span>
<span class="line"><span style="color:#24292E;">      invocableMethod.</span><span style="color:#6F42C1;">setParameterNameDiscoverer</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.parameterNameDiscoverer);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      ModelAndViewContainer mavContainer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ModelAndViewContainer</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      mavContainer.</span><span style="color:#6F42C1;">addAllAttributes</span><span style="color:#24292E;">(RequestContextUtils.</span><span style="color:#6F42C1;">getInputFlashMap</span><span style="color:#24292E;">(request));</span></span>
<span class="line"><span style="color:#24292E;">      modelFactory.</span><span style="color:#6F42C1;">initModel</span><span style="color:#24292E;">(webRequest, mavContainer, invocableMethod);</span></span>
<span class="line"><span style="color:#24292E;">      mavContainer.</span><span style="color:#6F42C1;">setIgnoreDefaultModelOnRedirect</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ignoreDefaultModelOnRedirect);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      AsyncWebRequest asyncWebRequest </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> WebAsyncUtils.</span><span style="color:#6F42C1;">createAsyncWebRequest</span><span style="color:#24292E;">(request, response);</span></span>
<span class="line"><span style="color:#24292E;">      asyncWebRequest.</span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.asyncRequestTimeout);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      WebAsyncManager asyncManager </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> WebAsyncUtils.</span><span style="color:#6F42C1;">getAsyncManager</span><span style="color:#24292E;">(request);</span></span>
<span class="line"><span style="color:#24292E;">      asyncManager.</span><span style="color:#6F42C1;">setTaskExecutor</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.taskExecutor);</span></span>
<span class="line"><span style="color:#24292E;">      asyncManager.</span><span style="color:#6F42C1;">setAsyncWebRequest</span><span style="color:#24292E;">(asyncWebRequest);</span></span>
<span class="line"><span style="color:#24292E;">      asyncManager.</span><span style="color:#6F42C1;">registerCallableInterceptors</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.callableInterceptors);</span></span>
<span class="line"><span style="color:#24292E;">      asyncManager.</span><span style="color:#6F42C1;">registerDeferredResultInterceptors</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.deferredResultInterceptors);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (asyncManager.</span><span style="color:#6F42C1;">hasConcurrentResult</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         Object result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> asyncManager.</span><span style="color:#6F42C1;">getConcurrentResult</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">         mavContainer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (ModelAndViewContainer) asyncManager.</span><span style="color:#6F42C1;">getConcurrentResultContext</span><span style="color:#24292E;">()[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">         asyncManager.</span><span style="color:#6F42C1;">clearConcurrentResult</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">         LogFormatUtils.</span><span style="color:#6F42C1;">traceDebug</span><span style="color:#24292E;">(logger, traceOn </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            String formatted </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LogFormatUtils.</span><span style="color:#6F42C1;">formatValue</span><span style="color:#24292E;">(result, </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">traceOn);</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Resume with async result [&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> formatted </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;]&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">         });</span></span>
<span class="line"><span style="color:#24292E;">         invocableMethod </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> invocableMethod.</span><span style="color:#6F42C1;">wrapConcurrentResult</span><span style="color:#24292E;">(result);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 执行目标方法</span></span>
<span class="line"><span style="color:#24292E;">      invocableMethod.</span><span style="color:#6F42C1;">invokeAndHandle</span><span style="color:#24292E;">(webRequest, mavContainer);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (asyncManager.</span><span style="color:#6F42C1;">isConcurrentHandlingStarted</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getModelAndView</span><span style="color:#24292E;">(mavContainer, modelFactory, webRequest);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">finally</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      webRequest.</span><span style="color:#6F42C1;">requestCompleted</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">void</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">invokeAndHandle</span><span style="color:#E1E4E8;">(ServletWebRequest webRequest, ModelAndViewContainer mavContainer,</span></span>
<span class="line"><span style="color:#E1E4E8;">      Object... providedArgs) throws Exception {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">// 执行目标方法</span></span>
<span class="line"><span style="color:#E1E4E8;">   Object returnValue </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">invokeForRequest</span><span style="color:#E1E4E8;">(webRequest, mavContainer, providedArgs);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">setResponseStatus</span><span style="color:#E1E4E8;">(webRequest);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (returnValue </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">isRequestNotModified</span><span style="color:#E1E4E8;">(webRequest) </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getResponseStatus</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> mavContainer.</span><span style="color:#B392F0;">isRequestHandled</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">disableContentCachingIfNecessary</span><span style="color:#E1E4E8;">(webRequest);</span></span>
<span class="line"><span style="color:#E1E4E8;">         mavContainer.</span><span style="color:#B392F0;">setRequestHandled</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (StringUtils.</span><span style="color:#B392F0;">hasText</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">getResponseStatusReason</span><span style="color:#E1E4E8;">())) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      mavContainer.</span><span style="color:#B392F0;">setRequestHandled</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   mavContainer.</span><span style="color:#B392F0;">setRequestHandled</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   Assert.</span><span style="color:#B392F0;">state</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.returnValueHandlers </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;No return value handlers&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.returnValueHandlers.</span><span style="color:#B392F0;">handleReturnValue</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">            returnValue, </span><span style="color:#B392F0;">getReturnValueType</span><span style="color:#E1E4E8;">(returnValue), mavContainer, webRequest);</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (Exception </span><span style="color:#FFAB70;">ex</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (logger.</span><span style="color:#B392F0;">isTraceEnabled</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">         logger.</span><span style="color:#B392F0;">trace</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">formatErrorForReturnValue</span><span style="color:#E1E4E8;">(returnValue), ex);</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> ex;</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">invokeAndHandle</span><span style="color:#24292E;">(ServletWebRequest webRequest, ModelAndViewContainer mavContainer,</span></span>
<span class="line"><span style="color:#24292E;">      Object... providedArgs) throws Exception {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">// 执行目标方法</span></span>
<span class="line"><span style="color:#24292E;">   Object returnValue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">invokeForRequest</span><span style="color:#24292E;">(webRequest, mavContainer, providedArgs);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">setResponseStatus</span><span style="color:#24292E;">(webRequest);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (returnValue </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">isRequestNotModified</span><span style="color:#24292E;">(webRequest) </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getResponseStatus</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> mavContainer.</span><span style="color:#6F42C1;">isRequestHandled</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">disableContentCachingIfNecessary</span><span style="color:#24292E;">(webRequest);</span></span>
<span class="line"><span style="color:#24292E;">         mavContainer.</span><span style="color:#6F42C1;">setRequestHandled</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (StringUtils.</span><span style="color:#6F42C1;">hasText</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">getResponseStatusReason</span><span style="color:#24292E;">())) {</span></span>
<span class="line"><span style="color:#24292E;">      mavContainer.</span><span style="color:#6F42C1;">setRequestHandled</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   mavContainer.</span><span style="color:#6F42C1;">setRequestHandled</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   Assert.</span><span style="color:#6F42C1;">state</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.returnValueHandlers </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;No return value handlers&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.returnValueHandlers.</span><span style="color:#6F42C1;">handleReturnValue</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">            returnValue, </span><span style="color:#6F42C1;">getReturnValueType</span><span style="color:#24292E;">(returnValue), mavContainer, webRequest);</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (Exception </span><span style="color:#E36209;">ex</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (logger.</span><span style="color:#6F42C1;">isTraceEnabled</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">         logger.</span><span style="color:#6F42C1;">trace</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">formatErrorForReturnValue</span><span style="color:#24292E;">(returnValue), ex);</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> ex;</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><!----><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/posts/be/spring/Spring5" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Previous</span><span class="title" data-v-ef5dee53>Spring5</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/posts/be/springboot/SpringBoot" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Next</span><span class="title" data-v-ef5dee53>Spring Boot</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><p class="message" data-v-e03eb2e1>Power by Vitepress & Github Page</p><p class="copyright" data-v-e03eb2e1>Copyright © 2021-present GnL</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"posts_be_java_java-advance_java-进阶.md\":\"42abd51d\",\"posts_al_常见算法.md\":\"9bc8df87\",\"about.md\":\"a162070c\",\"posts_al_位运算.md\":\"5ecf9586\",\"posts_dp_index_index.md\":\"86e10ddd\",\"posts_dpl_index_index.md\":\"564bcd34\",\"posts_al_index_index.md\":\"5ef2f242\",\"posts_db_redis_redis.md\":\"83ebd6d8\",\"posts_be_java_jvm_jvm.md\":\"2ba04d00\",\"posts_be_java_java-collection_java-集合.md\":\"c313d7a9\",\"posts_fe_typescript_typescript.md\":\"cf218c1e\",\"index.md\":\"5976cc20\",\"posts_be_springmvc_springmvc.md\":\"129d7912\",\"posts_mw_index_index.md\":\"a194d817\",\"posts_db_mysql_mysql.md\":\"db6ed566\",\"posts_be_springsecurity_springsecurity.md\":\"78670d02\",\"posts_mw_elasticsearch_elasticsearch.md\":\"b66d3004\",\"recently.md\":\"4b0fcd1d\",\"posts_be_springcloud_springcloud.md\":\"95bfcc3d\",\"posts_be_java_io_java-io.md\":\"eb84996f\",\"posts_db_index_index.md\":\"2a58eedb\",\"posts_be_index_index.md\":\"2848fce1\",\"posts_be_dubbo_dubbo.md\":\"c4c4060c\",\"posts_be_java_java-basic_java-基础.md\":\"ea4ad302\",\"posts_be_java_index_java.md\":\"56198839\",\"posts_renew_spring_spring.md\":\"95e99988\",\"posts_be_spring_spring5.md\":\"c6b3eb7f\",\"posts_be_mybatis_mybatis.md\":\"d32e69e5\",\"posts_be_java_java-threadpool_java-线程池.md\":\"f6d25920\",\"posts_fe_vuejs_vuejs.md\":\"dff77e28\",\"posts_be_java_java-thread_java-多线程.md\":\"95811c4b\",\"posts_mw_kafka_kafka.md\":\"f4f60b5d\",\"posts_dp_设计模式.md\":\"e515ad08\",\"posts_mw_rocketmq_rocketmq.md\":\"b62cd2a5\",\"posts_renew_mysql_mysql.md\":\"8d44b32f\",\"posts_renew_redis_redis-数据类型.md\":\"16cbe99d\",\"posts_renew_redis_redis-配置详解.md\":\"9e22e5f6\",\"posts_dpl_nginx_nginx.md\":\"e5a33acd\",\"posts_fe_index_index.md\":\"9b5e1b9e\",\"posts_be_java_java-juc_java-juc.md\":\"13e136cd\",\"posts_fe_react_react.md\":\"47e06a33\",\"posts_be_springboot_springboot.md\":\"fdd2c0dc\",\"posts_fe_javascript_javascript.md\":\"db17f093\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Gnl\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"./logo.jpeg\",\"nav\":[{\"text\":\"Recently\",\"link\":\"/recently\"},{\"text\":\"算法\",\"link\":\"posts/al/index/\"},{\"text\":\"前端\",\"items\":[{\"text\":\"JavaScript\",\"link\":\"/posts/fe/javascript/JavaScript\"},{\"text\":\"Vue.js\",\"link\":\"/posts/fe/vuejs/Vuejs\"},{\"text\":\"React\",\"link\":\"/posts/fe/react/React\"},{\"text\":\"TypeScript\",\"link\":\"/posts/fe/typescript/TypeScript\"}]},{\"text\":\"后端\",\"items\":[{\"text\":\"Java\",\"link\":\"/posts/be/java/index/Java\"},{\"text\":\"Spring5\",\"link\":\"/posts/be/spring/Spring5\"},{\"text\":\"Spring MVC\",\"link\":\"/posts/be/springmvc/SpringMVC\"},{\"text\":\"Spring Boot\",\"link\":\"/posts/be/springboot/SpringBoot\"},{\"text\":\"Spring Security\",\"link\":\"/posts/be/springsecurity/SpringSecurity\"},{\"text\":\"Spring Cloud\",\"link\":\"/posts/be/springcloud/SpringCloud\"},{\"text\":\"MyBatis\",\"link\":\"/posts/be/mybatis/MyBatis\"}]},{\"text\":\"数据库\",\"items\":[{\"text\":\"MySQL\",\"link\":\"/posts/db/mysql/MySQL\"},{\"text\":\"Redis\",\"link\":\"/posts/db/redis/Redis\"}]},{\"text\":\"中间件\",\"items\":[{\"text\":\"RocketMQ\",\"link\":\"/posts/mw/rocketmq/RocketMQ\"},{\"text\":\"Elasticsearch\",\"link\":\"/posts/mw/elasticsearch/Elasticsearch\"},{\"text\":\"Kafka\",\"link\":\"/posts/mw/kafka/Kafka\"},{\"text\":\"Nginx\",\"link\":\"/posts/mw/nginx/Nginx\"}]}],\"sidebar\":[{\"text\":\"算法\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"link\":\"/posts/al/index/\"},{\"text\":\"位运算\",\"link\":\"/posts/al/位运算\"},{\"text\":\"常见算法\",\"link\":\"/posts/al/常见算法\"}]},{\"text\":\"设计模式\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"link\":\"/posts/dp/index/\"},{\"text\":\"设计模式\",\"link\":\"/posts/dp/设计模式\"}]},{\"text\":\"前端\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"link\":\"/posts/fe/index/\"},{\"text\":\"JavaScript\",\"link\":\"/posts/fe/javascript/JavaScript\"},{\"text\":\"Vue.js\",\"link\":\"/posts/fe/vuejs/Vuejs\"},{\"text\":\"React\",\"link\":\"/posts/fe/react/React\"},{\"text\":\"TypeScript\",\"link\":\"/posts/fe/typescript/TypeScript\"}]},{\"text\":\"后端\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"link\":\"/posts/be/index/\"},{\"text\":\"Java\",\"link\":\"/posts/be/java/index/Java\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Java 基础\",\"link\":\"/posts/be/java/java-basic/Java-基础\"},{\"text\":\"Java 集合\",\"link\":\"/posts/be/java/java-collection/Java-集合\"},{\"text\":\"Java 多线程\",\"link\":\"/posts/be/java/java-thread/Java-多线程\"},{\"text\":\"Java 线程池\",\"link\":\"/posts/be/java/java-threadpool/Java-线程池\"},{\"text\":\"Java JUC\",\"link\":\"/posts/be/java/java-juc/Java-JUC\"},{\"text\":\"Java IO\",\"link\":\"/posts/be/java/io/Java-IO\"},{\"text\":\"Java 进阶\",\"link\":\"/posts/be/java/java-advance/Java-进阶\"}]},{\"text\":\"JVM\",\"link\":\"/posts/be/java/jvm/JVM\"},{\"text\":\"Spring5\",\"link\":\"/posts/be/spring/Spring5\"},{\"text\":\"Spring MVC\",\"link\":\"/posts/be/springmvc/SpringMVC\"},{\"text\":\"Spring Boot\",\"link\":\"/posts/be/springboot/SpringBoot\"},{\"text\":\"Spring Security\",\"link\":\"/posts/be/springsecurity/SpringSecurity\"},{\"text\":\"Spring Cloud\",\"link\":\"/posts/be/springcloud/SpringCloud\"},{\"text\":\"MyBatis\",\"link\":\"/posts/be/mybatis/MyBatis\"}]},{\"text\":\"数据库\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"link\":\"/posts/db/index/\"},{\"text\":\"MySQL\",\"link\":\"/posts/db/mysql/MySQL\"},{\"text\":\"Redis\",\"link\":\"/posts/db/redis/Redis\"}]},{\"text\":\"中间件\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Guide\",\"link\":\"/posts/mw/index/\"},{\"text\":\"RocketMQ\",\"link\":\"/posts/mw/rocketmq/RocketMQ\"},{\"text\":\"Elasticsearch\",\"link\":\"/posts/mw/elasticsearch/Elasticsearch\"},{\"text\":\"Kafka\",\"link\":\"/posts/mw/kafka/Kafka\"},{\"text\":\"Nginx\",\"link\":\"/posts/mw/nginx/Nginx\"}]}],\"docFooter\":{\"prev\":\"Previous\",\"next\":\"Next\"},\"footer\":{\"message\":\"Power by Vitepress & Github Page\",\"copyright\":\"Copyright © 2021-present GnL\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>